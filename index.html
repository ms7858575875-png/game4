<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ø¹Ø§Ø¦Ù„Ø© Ù†Ø¹ÙˆÙ…Ø© Ù†Ø¹ÙˆÙ…ØªÙƒ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</title>
<style>
:root{
--bg:#fff0f8;--card:#fff;--accent:#ff6fa3;--accent2:#ffd9ec;--text:#2b2b2b;--heart:#ff1a75;
}
body{
margin:0;padding:0;font-family:sans-serif;
background: linear-gradient(45deg, #ff6fa3, #ff85c1, #ffd9ec, #ffe0f0);
background-size: 400% 400%;
animation: gradientBG 10s ease infinite;
display:flex;align-items:center;justify-content:center;min-height:100vh;flex-direction:column;transition: all 0.5s ease;
}
@keyframes gradientBG {
0% {background-position: 0% 50%;}
50% {background-position: 100% 50%;}
100% {background-position: 0% 50%;}
}
.card{
background:var(--card);padding:25px 30px;border-radius:22px;box-shadow:0 12px 40px rgba(0,0,0,0.15);
width:320px;text-align:center;transition: all 0.3s ease;
}
.card h1,h2{
margin:0 0 15px 0;
}
button{
padding:12px 18px;border:none;border-radius:12px;font-weight:700;cursor:pointer;margin-top:12px;transition: all 0.3s ease;
}
button:hover{transform:scale(1.05);}
.hidden{display:none;}
.options{display:flex;flex-direction:column;gap:10px;margin-top:10px;}
.opt{
padding:12px;border-radius:12px;background:var(--accent2);cursor:pointer;
border:1px solid #f2f2f2;transition: all 0.2s ease;font-weight:600;
}
.opt:hover{background:var(--accent);color:#fff;}
.timer{font-weight:800;color:var(--accent);margin-top:10px;height:20px;}
.timerBar{height:12px;background:#ff6fa3;border-radius:6px;margin-top:6px;transition: width 1s linear;}
.feedback{margin-top:12px;font-weight:700;font-size:18px;}
.resultCard h2{
  font-size:28px;
  background: linear-gradient(45deg, #ff6fa3, #ff85c1, #ffd9ec);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 2px 2px 6px rgba(0,0,0,0.3);
  animation: glow 2s ease-in-out infinite alternate;
}
.resultCard p{
  font-size:22px;
  font-weight:700;
  color:#ff6fa3;
  text-shadow:1px 1px 4px rgba(0,0,0,0.2);
}
@keyframes glow {
  0% {text-shadow: 2px 2px 6px rgba(255,111,163,0.5), 0 0 10px rgba(255,111,163,0.2);}
  50% {text-shadow: 3px 3px 12px rgba(255,111,163,0.7), 0 0 15px rgba(255,111,163,0.3);}
  100% {text-shadow: 4px 4px 18px rgba(255,111,163,0.9), 0 0 20px rgba(255,111,163,0.5);}
}
.resultBtn {
  padding: 12px 20px;
  font-weight: 700;
  font-size: 16px;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  background: linear-gradient(45deg, #ff6fa3, #ff85c1, #ffd9ec);
  background-size: 300% 300%;
  color: #fff;
  transition: all 0.4s ease;
  box-shadow: 0 4px 15px rgba(255,111,163,0.4);
  text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
  animation: gradientBG 3s ease infinite;
}
.resultBtn:hover {
  transform: scale(1.08);
  box-shadow: 0 6px 20px rgba(255,111,163,0.6);
}
.heart{color:var(--heart);}
input{
width:85%;padding:10px;margin:6px 0;border:none;border-radius:12px;font-size:15px;color:#2b2b2b;background: rgba(255,111,163,0.15);
}
input::placeholder{color:#2b2b2b;}
</style>
</head>
<body>

<div class="card" id="welcomeCard">
<h1>ğŸŒ¸ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¹Ø§Ø¦Ù„Ø© Ù†Ø¹ÙˆÙ…Ø© Ù†Ø¹ÙˆÙ…ØªÙƒ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨ ğŸŒ¸</h1>
<p>Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ ÙˆØ§Ù„Ø±Ù…Ø² Ù„Ù„Ø¨Ø¯Ø¡</p>
<input id="nameInput" type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ">
<input id="codeInput" type="text" placeholder="Ø§Ù„Ø±Ù…Ø² Ø§Ù„ÙˆØ­ÙŠØ¯">
<button id="startBtn">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>

<div class="card hidden" id="messageCard">
<h2 id="welcomeMsg"></h2>
</div>

<div class="card hidden" id="quizCard">
<div id="questionArea"></div>
<div class="timer" id="timer">01:00</div>
<div class="timerBar" id="timerBar"></div>
<div class="feedback" id="feedback"></div>
</div>

<div class="card hidden resultCard" id="resultCard">
<h2>âœ¨ Ù…Ø¨Ø§Ø±Ùƒ Ù„Ùƒ Ù‡Ø°Ø§ Ø§Ù„ÙÙˆØ² <span class="heart">â¤ï¸</span> <span id="playerResultName"></span> âœ¨</h2>
<p id="resultText"></p>
<div>
<button class="resultBtn" id="copyBtn">Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
<button class="resultBtn" id="goFamilyBtn">Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ø¹Ø§Ø¦Ù„ØªÙƒ</button>
<button class="resultBtn" id="restartBtn">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>
</div>

<script>
const GAME_CODE='Ø§Ù„Ø­Ù…Ø¯Ø§Ù„Ù„Ù‡';
const FAMILY_LINK='https://www.facebook.com/profile.php?id=61581366775114';

const welcomeCard=document.getElementById('welcomeCard');
const messageCard=document.getElementById('messageCard');
const quizCard=document.getElementById('quizCard');
const resultCard=document.getElementById('resultCard');
const nameInput=document.getElementById('nameInput');
const codeInput=document.getElementById('codeInput');
const startBtn=document.getElementById('startBtn');
const welcomeMsg=document.getElementById('welcomeMsg');
const questionArea=document.getElementById('questionArea');
const timerEl=document.getElementById('timer');
const timerBar=document.getElementById('timerBar');
const feedback=document.getElementById('feedback');
const resultText=document.getElementById('resultText');
const playerResultName=document.getElementById('playerResultName');
const copyBtn=document.getElementById('copyBtn');
const goFamilyBtn=document.getElementById('goFamilyBtn');
const restartBtn=document.getElementById('restartBtn');

let playerName='';
let currentQ=0;
let score=0;
let timeLeft=60;
let timerInterval;

// âœ… ØªØ®Ø²ÙŠÙ† Ø­Ø§Ù„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø±Ù…Ø²
let usedCode = localStorage.getItem('usedCode') === 'true';

const QUESTIONS=[
  {q:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ø°ÙŠ ÙŠÙ‚ÙˆÙ„: 'Ù…Ù† ØµÙ„Ù‰ Ø¹Ù„ÙŠÙ‘Ù ØµÙ„Ø§Ø©Ù‹ ÙˆØ§Ø­Ø¯Ø©Ù‹ ØµÙ„Ù‘Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ Ø¨Ù‡Ø§ Ø¹Ø´Ø±Ø§Ù‹'ØŸ", opts:["ØµØ­ÙŠØ­ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ","ØµØ­ÙŠØ­ Ù…Ø³Ù„Ù…","Ø§Ù„ØªØ±Ù…Ø°ÙŠ","Ø§Ø¨Ù† Ù…Ø§Ø¬Ù‡"],a:1},
  {q:"Ø£ÙŠ Ø­Ø¯ÙŠØ« ÙŠÙˆØ¶Ø­ ÙØ¶Ù„ Ø§Ù„ØµØ¯Ù‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙÙ‚Ø±Ø§Ø¡ØŸ", opts:["Ù…Ù† ØªØµØ¯Ù‚ Ø¨Ø¹Ø¯Ù„ ØªÙ…Ø±Ø©","Ù…Ù† ØµØ§Ù… Ø±Ù…Ø¶Ø§Ù†","Ù…Ù† Ø­Ø¬ Ø§Ù„Ø¨ÙŠØª","Ù…Ù† ØºÙØ± Ø§Ù„Ù„Ù‡ Ù„Ù‡"],a:0},
  {q:"Ù…Ø§ Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ø°ÙŠ ÙŠØ­Ø« Ø¹Ù„Ù‰ Ø­Ø³Ù† Ø§Ù„Ø®Ù„Ù‚ØŸ", opts:["Ù„ÙŠØ³ Ø§Ù„Ù…Ø¤Ù…Ù† Ø¨Ø§Ù„Ø·Ø¹Ø§Ù†","Ø§Ù„ØµÙˆÙ… Ø¬Ù†Ø©","Ù…Ù† Ù„Ø§ ÙŠØ´ÙƒØ± Ø§Ù„Ù†Ø§Ø³ Ù„Ø§ ÙŠØ´ÙƒØ± Ø§Ù„Ù„Ù‡","Ù…Ù† Ù‚Ø§Ù„ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡"],a:2},
  {q:"Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ù„ÙˆØ­Ø§Øª Ø´Ù‡ÙŠØ±Ø© Ø±Ø³Ù…Ù‡Ø§ Ù„ÙŠÙˆÙ†Ø§Ø±Ø¯Ùˆ Ø¯Ø§ÙÙ†Ø´ÙŠØŸ", opts:["Ø§Ù„Ù…ÙˆÙ†Ø§Ù„ÙŠØ²Ø§","Ø§Ù„ØµØ±Ø®Ø©","Ù„ÙŠÙ„Ø© Ø§Ù„Ù†Ø¬ÙˆÙ…","Ø§Ù„ÙØªØ§Ø© Ø°Ø§Øª Ø§Ù„Ù‚Ø±Ø· Ø§Ù„Ù„Ø¤Ù„Ø¤ÙŠ"],a:0},
  {q:"Ù…Ø§ Ù‡Ùˆ Ù„ÙˆÙ† Ø§Ù„Ø³Ù…Ø§Ø¡ ÙˆÙ‚Øª Ø§Ù„ØºØ±ÙˆØ¨ ØºØ§Ù„Ø¨Ù‹Ø§ØŸ", opts:["Ø£Ø­Ù…Ø± ÙˆØ¨Ø±ØªÙ‚Ø§Ù„ÙŠ","Ø£Ø®Ø¶Ø±","Ø£Ø²Ø±Ù‚ ØºØ§Ù…Ù‚","Ø£ØµÙØ± ÙÙ‚Ø·"],a:0},
  {q:"Ø£ÙŠ Ø¹Ù†ØµØ± Ù…Ù† Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© ÙŠØ¹ØªØ¨Ø± Ø£Ø³Ø§Ø³ Ø§Ù„Ø¬Ù…Ø§Ù„ ÙÙŠ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØŸ", opts:["Ø§Ù„Ø®Ø´Ø¨","Ø§Ù„Ø­Ø¯ÙŠØ¯","Ø§Ù„Ø¨Ù„Ø§Ø³ØªÙŠÙƒ","Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø©"],a:0},
  {q:"Ø£ÙØ¶Ù„ Ø·Ø±ÙŠÙ‚Ø© Ù„Ø­Ù„ Ø§Ù„Ù†Ø²Ø§Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ù‡ÙŠØŸ", opts:["Ø§Ù„ØªØ¬Ø§Ù‡Ù„","Ø§Ù„Ù…ØµØ§Ø±Ø­Ø© Ø§Ù„Ù‡Ø§Ø¯Ø¦Ø©","Ø§Ù„ØµØ±Ø§Ø®","Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù…"],a:1},
  {q:"Ù…Ø§ Ø£Ù‡Ù… ØµÙØ© ÙŠØ¬Ø¨ ØªÙˆØ§ÙØ±Ù‡Ø§ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØŸ", opts:["Ø§Ù„Ø·ÙŠØ¨Ø©","Ø§Ù„ØµØ¯Ù‚","Ø§Ù„ÙƒØ±Ù…","Ø§Ù„Ø´Ø¬Ø§Ø¹Ø©"],a:1},
  {q:"ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† Ø¨Ù†Ø§Ø¡ Ø«Ù‚Ø© Ù‚ÙˆÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Ø§Ø³ØŸ", opts:["Ø§Ù„ÙˆØ¹ÙˆØ¯ Ø§Ù„ÙƒØ§Ø°Ø¨Ø©","Ø§Ù„ØµØ¯Ù‚ ÙˆØ§Ù„ÙˆÙØ§Ø¡","Ø§Ù„ØªØ¬Ø§Ù‡Ù„","Ø§Ù„Ø«Ø±Ø«Ø±Ø©"],a:1},
  {q:"Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø´Ø¬Ø§Ø± ØªÙ†ØªØ¬ Ø£ÙƒØ¨Ø± ÙƒÙ…ÙŠØ© Ø£ÙƒØ³Ø¬ÙŠÙ†ØŸ", opts:["Ø§Ù„Ø´Ø¬Ø±Ø© Ø§Ù„Ø²ÙŠØªÙŠØ©","Ø§Ù„Ø¨Ù„ÙˆØ·","Ø§Ù„ØµÙ†ÙˆØ¨Ø±","Ø§Ù„Ù†Ø®ÙŠÙ„"],a:2}
];

startBtn.onclick=()=>{
    const name=nameInput.value.trim();
    const code=codeInput.value.trim();
    if(!name){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù…'); return;}
    
    if(usedCode){
        alert('âš ï¸ Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø² ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù…Ù† Ù‚Ø¨Ù„ ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰');
        return;
    }

    if(code!==GAME_CODE){alert('Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­'); return;}

    // âœ… ØªØ³Ø¬ÙŠÙ„ Ø£Ù† Ø§Ù„Ø±Ù…Ø² Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
    localStorage.setItem('usedCode','true');
    usedCode = true;

    playerName=name;
    welcomeCard.classList.add('hidden');
    messageCard.classList.remove('hidden');
    welcomeMsg.textContent=`Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙŠ ${name} ÙÙŠ Ø¹Ø§Ø¦Ù„Ø© Ù†Ø¹ÙˆÙ…ØªÙƒ`;
    const msg=new SpeechSynthesisUtterance(`Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙŠ ${name} ÙÙŠ Ø¹Ø§Ø¦Ù„Ø© Ù†Ø¹ÙˆÙ…ØªÙƒ`);
    msg.lang='ar-SA';
    speechSynthesis.speak(msg);
    setTimeout(()=>{messageCard.classList.add('hidden'); startQuiz();},5000);
}

function startQuiz(){
    quizCard.classList.remove('hidden');
    showQuestion();
    startTimer();
}

function startTimer(){
    timeLeft=60;
    updateTimer();
    timerInterval=setInterval(()=>{
        timeLeft--;
        updateTimer();
        if(timeLeft<=0){nextQuestion();}
    },1000);
}

function updateTimer(){
    timerEl.textContent=String(Math.floor(timeLeft/60)).padStart(2,'0')+":"+String(timeLeft%60).padStart(2,'0');
    timerBar.style.width=(timeLeft/60*100)+'%';
}

function showQuestion(){
    if(currentQ>=QUESTIONS.length){finishQuiz(); return;}
    timeLeft=60;
    updateTimer();
    feedback.textContent='';
    const q=QUESTIONS[currentQ];
    let html=`<h3>Ø³Ø¤Ø§Ù„ ${currentQ+1}: ${q.q}</h3><div class="options">`;
    q.opts.forEach((o,i)=>{html+=`<div class="opt" onclick="selectOption(${i})">${o}</div>`;});
    html+='</div>';
    questionArea.innerHTML=html;
}

function selectOption(i){
    const q=QUESTIONS[currentQ];
    if(i===q.a){
        score+=10;
        feedback.textContent=`Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© âœ… ${playerName}`;
    }else{
        feedback.textContent=`Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø© âŒ ${playerName} Ù‡Ù‡Ù‡Ù‡Ù‡`;
    }
    setTimeout(()=>{nextQuestion();},1500);
}

function nextQuestion(){
    currentQ++;
    showQuestion();
}

function finishQuiz(){
    clearInterval(timerInterval);
    quizCard.classList.add('hidden');
    resultCard.classList.remove('hidden');
    playerResultName.textContent=playerName;
    resultText.textContent=`Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ${score} Ù…Ù† ${QUESTIONS.length*10} Ù†Ù‚Ø·Ø©!`;
}

copyBtn.onclick=async()=>{
    try{
        await navigator.clipboard.writeText(resultText.textContent);
        alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©!');
    }catch(e){alert('ØªØ¹Ø°Ø± Ø§Ù„Ù†Ø³Ø®!');}
}

goFamilyBtn.onclick=()=>{window.open(FAMILY_LINK,'_blank');}

restartBtn.onclick=()=>{
    resultText.textContent='';
    currentQ=0;
    score=0;
    resultCard.classList.add('hidden');
    messageCard.classList.remove('hidden');
    welcomeMsg.textContent=`Ù‡Ù‡Ù‡Ù‡Ù‡Ù‡ ğŸ˜† Ù„Ù‚Ø¯ Ø®Ø¯Ø¹Ù†Ø§ÙƒÙŠ ${playerName}!`;
    
    const msg=new SpeechSynthesisUtterance(`Ù‡Ù‡Ù‡Ù‡Ù‡Ù‡ Ù„Ù‚Ø¯ Ø®Ø¯Ø¹Ù†Ø§ÙƒÙŠ ${playerName}`);
    msg.lang='ar-SA';
    msg.pitch=2.2;
    msg.rate=1.1;
    speechSynthesis.speak(msg);

    setTimeout(()=>{
        messageCard.classList.add('hidden');
        resultCard.classList.remove('hidden');
        resultText.textContent="ğŸ‰ Ø­Ø¸ Ù…ÙˆÙÙ‚ ÙÙŠ Ù…Ø³Ø§Ø¨Ù‚ØªÙƒ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©! ğŸŒŸ";
    },3000);
}
</script>
</body>
</html>
